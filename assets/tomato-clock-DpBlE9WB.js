import{x as ve,a7 as be,a8 as I,a9 as _e,aa as B,z as oe,j as Ne,r as k,a as Ie,k as x,ab as ge,ac as Ve,n as he,K as ye,ad as we,o as h,c as H,R as J,S as a,W as j,ae as U,A as Q,d as v,w as S,f as $,af as Ee,ag as Se,Y as Z,X as ee,ah as xe,ai as ke,V as G,a1 as Ce,aj as O,h as Fe,ak as Ae,al as te,a2 as Pe,b as C,F as Te,g as X,t as ne,a3 as Be,a5 as Me}from"./index-C5s8F-_r.js";import{E as De,s as ae}from"./index-Bm9MRdUd.js";import{E as re}from"./el-input-C-ZnwRPG.js";import{C as ue,I as R,U as T}from"./event-BB_Ol6Sd.js";import{u as ze}from"./index-9mPCBuOW.js";import{u as Ke}from"./use-form-item-DnOdzJYD.js";import{u as Le}from"./index-0qsWRH-7.js";import{v as le}from"./index-BvzmAA3D.js";import"./scroll-yVBfE2ub.js";const Ue=ve({id:{type:String,default:void 0},step:{type:Number,default:1},stepStrictly:Boolean,max:{type:Number,default:Number.POSITIVE_INFINITY},min:{type:Number,default:Number.NEGATIVE_INFINITY},modelValue:Number,readonly:Boolean,disabled:Boolean,size:be,controls:{type:Boolean,default:!0},controlsPosition:{type:String,default:"",values:["","right"]},valueOnClear:{type:[String,Number,null],validator:r=>r===null||I(r)||["min","max"].includes(r),default:null},name:String,label:String,placeholder:String,precision:{type:Number,validator:r=>r>=0&&r===Number.parseInt(`${r}`,10)},validateEvent:{type:Boolean,default:!0},..._e(["ariaLabel"])}),$e={[ue]:(r,F)=>F!==r,blur:r=>r instanceof FocusEvent,focus:r=>r instanceof FocusEvent,[R]:r=>I(r)||B(r),[T]:r=>I(r)||B(r)},Oe=["aria-label","onKeydown"],He=["aria-label","onKeydown"],Re=oe({name:"ElInputNumber"}),We=oe({...Re,props:Ue,emits:$e,setup(r,{expose:F,emit:m}){const n=r,{t:p}=ze(),d=Ne("input-number"),y=k(),o=Ie({currentValue:n.modelValue,userInput:null}),{formItem:c}=Ke(),g=x(()=>I(n.modelValue)&&n.modelValue<=n.min),V=x(()=>I(n.modelValue)&&n.modelValue>=n.max),W=x(()=>{const e=M(n.step);return O(n.precision)?Math.max(M(n.modelValue),e):(e>n.precision,n.precision)}),A=x(()=>n.controls&&n.controlsPosition==="right"),b=ge(),i=Ve(),_=x(()=>{if(o.userInput!==null)return o.userInput;let e=o.currentValue;if(B(e))return"";if(I(e)){if(Number.isNaN(e))return"";O(n.precision)||(e=e.toFixed(n.precision))}return e}),w=(e,t)=>{if(O(t)&&(t=W.value),t===0)return Math.round(e);let l=String(e);const s=l.indexOf(".");if(s===-1||!l.replace(".","").split("")[s+t])return e;const K=l.length;return l.charAt(K-1)==="5"&&(l=`${l.slice(0,Math.max(0,K-1))}6`),Number.parseFloat(Number(l).toFixed(t))},M=e=>{if(B(e))return 0;const t=e.toString(),l=t.indexOf(".");let s=0;return l!==-1&&(s=t.length-l-1),s},D=(e,t=1)=>I(e)?w(e+n.step*t):o.currentValue,P=()=>{if(n.readonly||i.value||V.value)return;const e=Number(_.value)||0,t=D(e);z(t),m(R,o.currentValue),Y()},E=()=>{if(n.readonly||i.value||g.value)return;const e=Number(_.value)||0,t=D(e,-1);z(t),m(R,o.currentValue),Y()},q=(e,t)=>{const{max:l,min:s,step:u,precision:N,stepStrictly:K,valueOnClear:L}=n;l<s&&Fe("InputNumber","min should not be greater than max.");let f=Number(e);if(B(e)||Number.isNaN(f))return null;if(e===""){if(L===null)return null;f=Ae(L)?{min:s,max:l}[L]:L}return K&&(f=w(Math.round(f/u)*u,N)),O(N)||(f=w(f,N)),(f>l||f<s)&&(f=f>l?l:s,t&&m(T,f)),f},z=(e,t=!0)=>{var l;const s=o.currentValue,u=q(e);if(!t){m(T,u);return}s===u&&e||(o.userInput=null,m(T,u),s!==u&&m(ue,u,s),n.validateEvent&&((l=c==null?void 0:c.validate)==null||l.call(c,"change").catch(N=>te())),o.currentValue=u)},se=e=>{o.userInput=e;const t=e===""?null:Number(e);m(R,t),z(t,!1)},ie=e=>{const t=e!==""?Number(e):"";(I(t)&&!Number.isNaN(t)||e==="")&&z(t),Y(),o.userInput=null},ce=()=>{var e,t;(t=(e=y.value)==null?void 0:e.focus)==null||t.call(e)},de=()=>{var e,t;(t=(e=y.value)==null?void 0:e.blur)==null||t.call(e)},me=e=>{m("focus",e)},pe=e=>{var t;o.userInput=null,m("blur",e),n.validateEvent&&((t=c==null?void 0:c.validate)==null||t.call(c,"blur").catch(l=>te()))},Y=()=>{o.currentValue!==n.modelValue&&(o.currentValue=n.modelValue)},fe=e=>{document.activeElement===e.target&&e.preventDefault()};return he(()=>n.modelValue,(e,t)=>{const l=q(e,!0);o.userInput===null&&l!==t&&(o.currentValue=l)},{immediate:!0}),ye(()=>{var e;const{min:t,max:l,modelValue:s}=n,u=(e=y.value)==null?void 0:e.input;if(u.setAttribute("role","spinbutton"),Number.isFinite(l)?u.setAttribute("aria-valuemax",String(l)):u.removeAttribute("aria-valuemax"),Number.isFinite(t)?u.setAttribute("aria-valuemin",String(t)):u.removeAttribute("aria-valuemin"),u.setAttribute("aria-valuenow",o.currentValue||o.currentValue===0?String(o.currentValue):""),u.setAttribute("aria-disabled",String(i.value)),!I(s)&&s!=null){let N=Number(s);Number.isNaN(N)&&(N=null),m(T,N)}u.addEventListener("wheel",fe,{passive:!1})}),we(()=>{var e,t;const l=(e=y.value)==null?void 0:e.input;l==null||l.setAttribute("aria-valuenow",`${(t=o.currentValue)!=null?t:""}`)}),Le({from:"label",replacement:"aria-label",version:"2.8.0",scope:"el-input-number",ref:"https://element-plus.org/en-US/component/input-number.html"},x(()=>!!n.label)),F({focus:ce,blur:de}),(e,t)=>(h(),H("div",{class:j([a(d).b(),a(d).m(a(b)),a(d).is("disabled",a(i)),a(d).is("without-controls",!e.controls),a(d).is("controls-right",a(A))]),onDragstart:t[0]||(t[0]=G(()=>{},["prevent"]))},[e.controls?J((h(),H("span",{key:0,role:"button","aria-label":a(p)("el.inputNumber.decrease"),class:j([a(d).e("decrease"),a(d).is("disabled",a(g))]),onKeydown:U(E,["enter"])},[Q(e.$slots,"decrease-icon",{},()=>[v(a(Z),null,{default:S(()=>[a(A)?(h(),$(a(Ee),{key:0})):(h(),$(a(Se),{key:1}))]),_:1})])],42,Oe)),[[a(le),E]]):ee("v-if",!0),e.controls?J((h(),H("span",{key:1,role:"button","aria-label":a(p)("el.inputNumber.increase"),class:j([a(d).e("increase"),a(d).is("disabled",a(V))]),onKeydown:U(P,["enter"])},[Q(e.$slots,"increase-icon",{},()=>[v(a(Z),null,{default:S(()=>[a(A)?(h(),$(a(xe),{key:0})):(h(),$(a(ke),{key:1}))]),_:1})])],42,He)),[[a(le),P]]):ee("v-if",!0),v(a(re),{id:e.id,ref_key:"input",ref:y,type:"number",step:e.step,"model-value":a(_),placeholder:e.placeholder,readonly:e.readonly,disabled:a(i),size:a(b),max:e.max,min:e.min,name:e.name,"aria-label":e.label||e.ariaLabel,"validate-event":!1,onKeydown:[U(G(P,["prevent"]),["up"]),U(G(E,["prevent"]),["down"])],onBlur:pe,onFocus:me,onInput:se,onChange:ie},null,8,["id","step","model-value","placeholder","readonly","disabled","size","max","min","name","aria-label","onKeydown"])],34))}});var Ye=Ce(We,[["__file","input-number.vue"]]);const je=Pe(Ye),Ge={class:"main",id:"fullele"},Xe=C("div",{class:"content"},[C("div",{class:"texting"},[C("span",{id:"now_time"}," 25:00 ")])],-1),qe=[Xe],rt={__name:"tomato-clock",setup(r){const F=k("2-1");function m(){if(ae.isEnabled){let b=document.getElementById("fullele");ae.toggle(b)}}const n=k(25);let p=n.value*60;var d=!1;const y=b=>{n.value;var i=document.getElementById("now_time");i.innerHTML=n.value+":00",p=n.value*60},o=k(),c=k(0);c.value=parseInt(localStorage.getItem("tomato")),localStorage.getItem("tomato")==null&&(localStorage.setItem("tomato",0),c.value=0),console.log(c.value);const g=k(0);g.value=parseInt(localStorage.getItem("tomatot")),localStorage.getItem("tomatot")==null&&(localStorage.setItem("tomatot",0),c.value=0);let V;function W(){var b=document.getElementById("now_time");if(p==0)d=!1,p=n.value*60,c.value=parseInt(c.value)+1,g.value=parseInt(g.value)+parseInt(n.value),b.innerHTML="Finish!",localStorage.setItem("tomato",c.value),localStorage.setItem("tomatot",g.value),clearInterval(V),V=void 0,alert("专注目标达成！今日 Tomato +1");else{p=p-1;var i=parseInt(p/60),_=parseInt(p%60);p/60<10&&(i="0"+i),p%60<10&&(_="0"+_),b.innerHTML=i+":"+_}}function A(){d==!0?(d=!1,clearInterval(V),V=void 0):(d=!0,V=setInterval(W,1e3))}return(b,i)=>{const _=re,w=Be,M=je,D=Me,P=De;return h(),H(Te,null,[C("div",Ge,[C("div",null,[v(_,{class:"time2",placeholder:"任务目标...",modelValue:o.value,"onUpdate:modelValue":i[0]||(i[0]=E=>o.value=E),clearable:""},null,8,["modelValue"])]),C("div",{class:"time",id:"time",onClick:A},qe)]),v(P,{position:"bottom",offset:2},{default:S(()=>[v(D,{"default-active":F.value,mode:"horizontal",style:{position:"fixed",bottom:"0px","z-index":"999",width:"100%"}},{default:S(()=>[v(w,{index:"1",style:{},onClick:m},{default:S(()=>[X("全屏")]),_:1}),v(w,{index:"2"},{default:S(()=>[X("专注时间 (分钟) "),v(M,{modelValue:n.value,"onUpdate:modelValue":i[1]||(i[1]=E=>n.value=E),min:1,style:{"margin-left":"20px"},step:1,precision:0,onChange:y},null,8,["modelValue"])]),_:1}),v(w,{index:"3"},{default:S(()=>[X("总番茄:"+ne(c.value)+"个 总时长:"+ne(g.value)+"分钟",1)]),_:1})]),_:1},8,["default-active"])]),_:1})],64)}}};export{rt as default};
